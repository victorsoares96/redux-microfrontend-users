{"version":3,"file":"src_App_js.js","mappings":"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","sources":["webpack://@redux-reducer-injection/app2/./src/App.js","webpack://@redux-reducer-injection/app2/./src/RemoteApp.js","webpack://@redux-reducer-injection/app2/./src/store.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom';\nimport RemoteAppWrapper from './RemoteApp';\n\nexport function App2() {\n  return <RemoteAppWrapper />;\n}\n\nReactDOM.render(<App2 />, document.getElementById('root'));","import React, { useState } from 'react';\nimport { Provider, useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { store as appStore, changeAppNameAction, reducer } from './store'\n\nconst remoteAppScope = 'remoteApp';\n\nconst RemoteApp = () => {\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state[remoteAppScope]);\n  const [remoteAppInput, setRemoteAppInput] = useState('');\n\n  return (\n    <div style={{ marginTop: '10px' }}>\n      <div>RemoteApp</div>\n      <div>\n        RemoteApp's name from the redux store : {state && state.appName}\n      </div>\n\n      <div>\n        <input\n          style={{ marginRight: '10px' }}\n          type=\"text\"\n          onChange={(e) => {\n            setRemoteAppInput(e.target.value);\n          }}\n        />\n        <button onClick={() => dispatch(changeAppNameAction(remoteAppInput))}>\n          Dispatch RemoteApp new name\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst RemoteAppWrapper = (props) => {\n  const { store } = props;\n  useEffect(() => {\n    if (store) store.injectReducer(remoteAppScope, reducer);\n  }, []);\n\n  return (\n    <Provider store={store || appStore}>\n      <RemoteApp />\n    </Provider>\n  );\n};\n\nexport default RemoteAppWrapper;\n","import { combineReducers, createStore, compose } from 'redux';\n\nconst initialState = {\n  appName: 'remoteApp',\n};\n\nconst CHANGE_APP_NAME = 'CHANGE_APP_NAME';\n\nconst changeAppNameAction = (appName) => {\n  return { type: CHANGE_APP_NAME, payload: appName };\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CHANGE_APP_NAME: {\n      return {\n        ...state,\n        appName: action.payload,\n      };\n    }\n  }\n  return state;\n};\n\nexport { changeAppNameAction };\n\nconst staticReducers = {\n  remoteApp: reducer,\n};\n\n/**\n * Cf. redux docs:\n * https://redux.js.org/recipes/code-splitting/#defining-an-injectreducer-function\n */\nexport default function configureStore(initialState) {\n  const composeEnhancers =\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose;\n\n  const enhancer = composeEnhancers();\n  const store = createStore(createReducer(), enhancer);\n\n  store.asyncReducers = {};\n\n  store.injectReducer = (key, asyncReducer) => {\n    store.asyncReducers[key] = asyncReducer;\n    store.replaceReducer(createReducer(store.asyncReducers));\n  };\n\n  return store;\n}\n\nfunction createReducer(asyncReducers) {\n  return combineReducers({\n    ...staticReducers,\n    ...asyncReducers,\n  });\n}\n\nexport const store = configureStore();\n"],"names":["React","ReactDOM","RemoteAppWrapper","App2","render","document","getElementById","useState","Provider","useSelector","useDispatch","useEffect","store","appStore","changeAppNameAction","reducer","remoteAppScope","RemoteApp","dispatch","state","remoteAppInput","setRemoteAppInput","marginTop","appName","marginRight","e","target","value","props","injectReducer","combineReducers","createStore","compose","initialState","CHANGE_APP_NAME","type","payload","action","staticReducers","remoteApp","configureStore","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","enhancer","createReducer","asyncReducers","key","asyncReducer","replaceReducer"],"sourceRoot":""}